/**
 * Generated by orval v7.20.0 üç∫
 * Do not edit manually.
 * @ding/api
 * Ding API Documentation
 * OpenAPI spec version: 0.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type {
  GetAppSettings200,
  GetMe200,
  UpdateAppSettings200,
  UpdateProfile200,
  UpdateProfileAvatar200,
} from '.././models'

export const getGetMeResponseMock = (overrideResponse: Partial<GetMe200> = {}): GetMe200 => ({
  user: {
    [faker.string.alphanumeric(5)]: {},
  },
  session: {
    [faker.string.alphanumeric(5)]: {},
  },
  ...overrideResponse,
})

export const getUpdateProfileResponseMock = (
  overrideResponse: Partial<UpdateProfile200> = {}
): UpdateProfile200 => ({
  name: faker.string.alpha({ length: { min: 10, max: 20 } }),
  updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
  ...overrideResponse,
})

export const getUpdateProfileAvatarResponseMock = (
  overrideResponse: Partial<UpdateProfileAvatar200> = {}
): UpdateProfileAvatar200 => ({
  avatarMediaId: faker.helpers.arrayElement([
    faker.string.alpha({ length: { min: 10, max: 20 } }),
    null,
  ]),
  signedUrl: faker.helpers.arrayElement([
    faker.string.alpha({ length: { min: 10, max: 20 } }),
    null,
  ]),
  ...overrideResponse,
})

export const getGetAppSettingsResponseMock = (
  overrideResponse: Partial<GetAppSettings200> = {}
): GetAppSettings200 => ({
  appSettings: {
    locale: faker.helpers.arrayElement(['ja', 'en'] as const),
    theme: faker.helpers.arrayElement(['light', 'dark', 'system'] as const),
    defaultEnterAction: faker.helpers.arrayElement(['submit', 'newline'] as const),
  },
  todoSettings: {
    maxOpenCount: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
  },
  profileSettings: {
    avatarMediaId: faker.helpers.arrayElement([
      faker.string.alpha({ length: { min: 10, max: 20 } }),
      null,
    ]),
    avatarSignedUrl: faker.helpers.arrayElement([
      faker.string.alpha({ length: { min: 10, max: 20 } }),
      null,
    ]),
  },
  ...overrideResponse,
})

export const getUpdateAppSettingsResponseMock = (
  overrideResponse: Partial<UpdateAppSettings200> = {}
): UpdateAppSettings200 => ({
  appSettings: {
    locale: faker.helpers.arrayElement(['ja', 'en'] as const),
    theme: faker.helpers.arrayElement(['light', 'dark', 'system'] as const),
    defaultEnterAction: faker.helpers.arrayElement(['submit', 'newline'] as const),
  },
  todoSettings: {
    maxOpenCount: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
  },
  ...overrideResponse,
})

export const getGetMeMockHandler = (
  overrideResponse?:
    | GetMe200
    | ((info: Parameters<Parameters<typeof http.get>[1]>[0]) => Promise<GetMe200> | GetMe200),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/me',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getGetMeResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getUpdateProfileMockHandler = (
  overrideResponse?:
    | UpdateProfile200
    | ((
        info: Parameters<Parameters<typeof http.patch>[1]>[0]
      ) => Promise<UpdateProfile200> | UpdateProfile200),
  options?: RequestHandlerOptions
) => {
  return http.patch(
    '*/me/profile',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getUpdateProfileResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getUpdateProfileAvatarMockHandler = (
  overrideResponse?:
    | UpdateProfileAvatar200
    | ((
        info: Parameters<Parameters<typeof http.patch>[1]>[0]
      ) => Promise<UpdateProfileAvatar200> | UpdateProfileAvatar200),
  options?: RequestHandlerOptions
) => {
  return http.patch(
    '*/me/profile/avatar',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getUpdateProfileAvatarResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getGetAppSettingsMockHandler = (
  overrideResponse?:
    | GetAppSettings200
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0]
      ) => Promise<GetAppSettings200> | GetAppSettings200),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/me/settings',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getGetAppSettingsResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getUpdateAppSettingsMockHandler = (
  overrideResponse?:
    | UpdateAppSettings200
    | ((
        info: Parameters<Parameters<typeof http.patch>[1]>[0]
      ) => Promise<UpdateAppSettings200> | UpdateAppSettings200),
  options?: RequestHandlerOptions
) => {
  return http.patch(
    '*/me/settings',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getUpdateAppSettingsResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getUserMock = () => [
  getGetMeMockHandler(),
  getUpdateProfileMockHandler(),
  getUpdateProfileAvatarMockHandler(),
  getGetAppSettingsMockHandler(),
  getUpdateAppSettingsMockHandler(),
]

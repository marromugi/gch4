/**
 * Generated by orval v7.20.0 üç∫
 * Do not edit manually.
 * @ding/api
 * Ding API Documentation
 * OpenAPI spec version: 0.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type { CreateReviewPolicy201, GetReviewPolicy200, PublishReviewPolicy200 } from '.././models'

export const getCreateReviewPolicyResponseMock = (
  overrideResponse: Partial<CreateReviewPolicy201> = {}
): CreateReviewPolicy201 => ({
  data: {
    policy: {
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      jobId: faker.string.alpha({ length: { min: 10, max: 20 } }),
      version: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      status: faker.helpers.arrayElement(['draft', 'confirmed', 'published'] as const),
      softCap: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      hardCap: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      createdBy: faker.string.alpha({ length: { min: 10, max: 20 } }),
      confirmedAt: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      publishedAt: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    },
    signals: Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(
      () => ({
        id: faker.string.alpha({ length: { min: 10, max: 20 } }),
        policyVersionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        signalKey: faker.string.alpha({ length: { min: 10, max: 20 } }),
        label: faker.string.alpha({ length: { min: 10, max: 20 } }),
        description: faker.helpers.arrayElement([
          faker.string.alpha({ length: { min: 10, max: 20 } }),
          null,
        ]),
        priority: faker.helpers.arrayElement(['high', 'supporting', 'concern'] as const),
        category: faker.helpers.arrayElement(['must', 'ng', 'nice'] as const),
        sortOrder: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
        createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      })
    ),
    prohibitedTopics: Array.from(
      { length: faker.number.int({ min: 1, max: 10 }) },
      (_, i) => i + 1
    ).map(() => ({
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      policyVersionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
      topic: faker.string.alpha({ length: { min: 10, max: 20 } }),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    })),
  },
  ...overrideResponse,
})

export const getGetReviewPolicyResponseMock = (
  overrideResponse: Partial<GetReviewPolicy200> = {}
): GetReviewPolicy200 => ({
  data: {
    policy: {
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      jobId: faker.string.alpha({ length: { min: 10, max: 20 } }),
      version: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      status: faker.helpers.arrayElement(['draft', 'confirmed', 'published'] as const),
      softCap: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      hardCap: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      createdBy: faker.string.alpha({ length: { min: 10, max: 20 } }),
      confirmedAt: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      publishedAt: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    },
    signals: Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(
      () => ({
        id: faker.string.alpha({ length: { min: 10, max: 20 } }),
        policyVersionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        signalKey: faker.string.alpha({ length: { min: 10, max: 20 } }),
        label: faker.string.alpha({ length: { min: 10, max: 20 } }),
        description: faker.helpers.arrayElement([
          faker.string.alpha({ length: { min: 10, max: 20 } }),
          null,
        ]),
        priority: faker.helpers.arrayElement(['high', 'supporting', 'concern'] as const),
        category: faker.helpers.arrayElement(['must', 'ng', 'nice'] as const),
        sortOrder: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
        createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      })
    ),
    prohibitedTopics: Array.from(
      { length: faker.number.int({ min: 1, max: 10 }) },
      (_, i) => i + 1
    ).map(() => ({
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      policyVersionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
      topic: faker.string.alpha({ length: { min: 10, max: 20 } }),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    })),
  },
  ...overrideResponse,
})

export const getPublishReviewPolicyResponseMock = (
  overrideResponse: Partial<PublishReviewPolicy200> = {}
): PublishReviewPolicy200 => ({
  data: {
    id: faker.string.alpha({ length: { min: 10, max: 20 } }),
    jobId: faker.string.alpha({ length: { min: 10, max: 20 } }),
    version: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    status: faker.helpers.arrayElement(['draft', 'confirmed', 'published'] as const),
    softCap: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    hardCap: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    createdBy: faker.string.alpha({ length: { min: 10, max: 20 } }),
    confirmedAt: faker.helpers.arrayElement([
      faker.string.alpha({ length: { min: 10, max: 20 } }),
      null,
    ]),
    publishedAt: faker.helpers.arrayElement([
      faker.string.alpha({ length: { min: 10, max: 20 } }),
      null,
    ]),
    createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
  },
  ...overrideResponse,
})

export const getCreateReviewPolicyMockHandler = (
  overrideResponse?:
    | CreateReviewPolicy201
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<CreateReviewPolicy201> | CreateReviewPolicy201),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/api/review-policies',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getCreateReviewPolicyResponseMock()
        ),
        { status: 201, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getGetReviewPolicyMockHandler = (
  overrideResponse?:
    | GetReviewPolicy200
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0]
      ) => Promise<GetReviewPolicy200> | GetReviewPolicy200),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/api/review-policies/:policyId',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getGetReviewPolicyResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getPublishReviewPolicyMockHandler = (
  overrideResponse?:
    | PublishReviewPolicy200
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<PublishReviewPolicy200> | PublishReviewPolicy200),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/api/review-policies/:policyId/publish',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getPublishReviewPolicyResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getReviewPolicyMock = () => [
  getCreateReviewPolicyMockHandler(),
  getGetReviewPolicyMockHandler(),
  getPublishReviewPolicyMockHandler(),
]

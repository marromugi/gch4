/**
 * Generated by orval v7.20.0 üç∫
 * Do not edit manually.
 * @ding/api
 * Ding API Documentation
 * OpenAPI spec version: 0.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type {
  CreateChatSession201,
  GetChatSession200,
  GetChatSessionFormData200,
  SendChatMessage200,
} from '.././models'

export const getCreateChatSessionResponseMock = (
  overrideResponse: Partial<CreateChatSession201> = {}
): CreateChatSession201 => ({
  data: {
    session: {
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      applicationId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      jobId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      type: faker.helpers.arrayElement([
        'application',
        'interview_feedback',
        'policy_creation',
      ] as const),
      bootstrapCompleted: faker.datatype.boolean(),
      status: faker.helpers.arrayElement(['active', 'completed'] as const),
      turnCount: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      currentAgent: faker.helpers.arrayElement([
        'greeter',
        'architect',
        'interviewer',
        'explorer',
        'reviewer',
        'quick_check',
        'auditor',
      ] as const),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    },
    todos: Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(
      () => ({
        id: faker.string.alpha({ length: { min: 10, max: 20 } }),
        applicationId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        jobFormFieldId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        fact: faker.string.alpha({ length: { min: 10, max: 20 } }),
        doneCriteria: faker.string.alpha({ length: { min: 10, max: 20 } }),
        required: faker.datatype.boolean(),
        status: faker.helpers.arrayElement([
          'pending',
          'awaiting_answer',
          'validating',
          'needs_clarification',
          'done',
          'manual_input',
        ] as const),
        extractedValue: faker.helpers.arrayElement([
          faker.string.alpha({ length: { min: 10, max: 20 } }),
          null,
        ]),
        createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
        updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      })
    ),
    greeting: {
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      chatSessionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
      role: faker.helpers.arrayElement(['user', 'assistant', 'system'] as const),
      content: faker.string.alpha({ length: { min: 10, max: 20 } }),
      targetJobFormFieldId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      reviewPassed: faker.datatype.boolean(),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    },
  },
  ...overrideResponse,
})

export const getGetChatSessionResponseMock = (
  overrideResponse: Partial<GetChatSession200> = {}
): GetChatSession200 => ({
  data: {
    session: {
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      applicationId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      jobId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      type: faker.helpers.arrayElement([
        'application',
        'interview_feedback',
        'policy_creation',
      ] as const),
      bootstrapCompleted: faker.datatype.boolean(),
      status: faker.helpers.arrayElement(['active', 'completed'] as const),
      turnCount: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      currentAgent: faker.helpers.arrayElement([
        'greeter',
        'architect',
        'interviewer',
        'explorer',
        'reviewer',
        'quick_check',
        'auditor',
      ] as const),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    },
    messages: Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(
      () => ({
        id: faker.string.alpha({ length: { min: 10, max: 20 } }),
        chatSessionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        role: faker.helpers.arrayElement(['user', 'assistant', 'system'] as const),
        content: faker.string.alpha({ length: { min: 10, max: 20 } }),
        targetJobFormFieldId: faker.helpers.arrayElement([
          faker.string.alpha({ length: { min: 10, max: 20 } }),
          null,
        ]),
        reviewPassed: faker.datatype.boolean(),
        createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      })
    ),
    todos: Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(
      () => ({
        id: faker.string.alpha({ length: { min: 10, max: 20 } }),
        applicationId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        jobFormFieldId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        fact: faker.string.alpha({ length: { min: 10, max: 20 } }),
        doneCriteria: faker.string.alpha({ length: { min: 10, max: 20 } }),
        required: faker.datatype.boolean(),
        status: faker.helpers.arrayElement([
          'pending',
          'awaiting_answer',
          'validating',
          'needs_clarification',
          'done',
          'manual_input',
        ] as const),
        extractedValue: faker.helpers.arrayElement([
          faker.string.alpha({ length: { min: 10, max: 20 } }),
          null,
        ]),
        createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
        updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      })
    ),
  },
  ...overrideResponse,
})

export const getGetChatSessionFormDataResponseMock = (
  overrideResponse: Partial<GetChatSessionFormData200> = {}
): GetChatSessionFormData200 => ({
  data: {
    sessionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
    collectedFields: {
      [faker.string.alphanumeric(5)]: faker.string.alpha({ length: { min: 10, max: 20 } }),
    },
    completedAt: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
  },
  ...overrideResponse,
})

export const getSendChatMessageResponseMock = (
  overrideResponse: Partial<SendChatMessage200> = {}
): SendChatMessage200 => ({
  data: {
    message: faker.helpers.arrayElement([
      {
        id: faker.string.alpha({ length: { min: 10, max: 20 } }),
        chatSessionId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        role: faker.helpers.arrayElement(['user', 'assistant', 'system'] as const),
        content: faker.string.alpha({ length: { min: 10, max: 20 } }),
        targetJobFormFieldId: faker.helpers.arrayElement([
          faker.string.alpha({ length: { min: 10, max: 20 } }),
          null,
        ]),
        reviewPassed: faker.datatype.boolean(),
        createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      },
      undefined,
    ]),
    session: {
      id: faker.string.alpha({ length: { min: 10, max: 20 } }),
      applicationId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      jobId: faker.helpers.arrayElement([
        faker.string.alpha({ length: { min: 10, max: 20 } }),
        null,
      ]),
      type: faker.helpers.arrayElement([
        'application',
        'interview_feedback',
        'policy_creation',
      ] as const),
      bootstrapCompleted: faker.datatype.boolean(),
      status: faker.helpers.arrayElement(['active', 'completed'] as const),
      turnCount: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
      currentAgent: faker.helpers.arrayElement([
        'greeter',
        'architect',
        'interviewer',
        'explorer',
        'reviewer',
        'quick_check',
        'auditor',
      ] as const),
      createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
    },
    todos: Array.from({ length: faker.number.int({ min: 1, max: 10 }) }, (_, i) => i + 1).map(
      () => ({
        id: faker.string.alpha({ length: { min: 10, max: 20 } }),
        applicationId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        jobFormFieldId: faker.string.alpha({ length: { min: 10, max: 20 } }),
        fact: faker.string.alpha({ length: { min: 10, max: 20 } }),
        doneCriteria: faker.string.alpha({ length: { min: 10, max: 20 } }),
        required: faker.datatype.boolean(),
        status: faker.helpers.arrayElement([
          'pending',
          'awaiting_answer',
          'validating',
          'needs_clarification',
          'done',
          'manual_input',
        ] as const),
        extractedValue: faker.helpers.arrayElement([
          faker.string.alpha({ length: { min: 10, max: 20 } }),
          null,
        ]),
        createdAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
        updatedAt: faker.string.alpha({ length: { min: 10, max: 20 } }),
      })
    ),
    phase: faker.helpers.arrayElement(['bootstrap', 'questioning', 'fallback', 'wrapup'] as const),
    isComplete: faker.datatype.boolean(),
  },
  ...overrideResponse,
})

export const getCreateChatSessionMockHandler = (
  overrideResponse?:
    | CreateChatSession201
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<CreateChatSession201> | CreateChatSession201),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/api/applications/:applicationId/chat/sessions',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getCreateChatSessionResponseMock()
        ),
        { status: 201, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getGetChatSessionMockHandler = (
  overrideResponse?:
    | GetChatSession200
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0]
      ) => Promise<GetChatSession200> | GetChatSession200),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/api/applications/:applicationId/chat/sessions/:sessionId',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getGetChatSessionResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getGetChatSessionFormDataMockHandler = (
  overrideResponse?:
    | GetChatSessionFormData200
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0]
      ) => Promise<GetChatSessionFormData200> | GetChatSessionFormData200),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/api/applications/:applicationId/chat/sessions/:sessionId/form-data',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getGetChatSessionFormDataResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getSendChatMessageMockHandler = (
  overrideResponse?:
    | SendChatMessage200
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<SendChatMessage200> | SendChatMessage200),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/api/applications/:applicationId/chat/sessions/:sessionId/messages',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getSendChatMessageResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getChatMock = () => [
  getCreateChatSessionMockHandler(),
  getGetChatSessionMockHandler(),
  getGetChatSessionFormDataMockHandler(),
  getSendChatMessageMockHandler(),
]

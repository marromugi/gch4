/**
 * Generated by orval v7.20.0 üç∫
 * Do not edit manually.
 * @ding/api
 * Ding API Documentation
 * OpenAPI spec version: 0.0.0
 */
import { faker } from '@faker-js/faker'

import { HttpResponse, delay, http } from 'msw'
import type { RequestHandlerOptions } from 'msw'

import type {
  DeleteMedia200,
  ServeMedia200One,
  ServeMedia200Three,
  ServeMedia200Two,
  UploadMedia201,
} from '.././models'

export const getUploadMediaResponseMock = (
  overrideResponse: Partial<UploadMedia201> = {}
): UploadMedia201 => ({
  media: {
    mediaId: faker.string.alpha({ length: { min: 10, max: 20 } }),
    url: faker.string.alpha({ length: { min: 10, max: 20 } }),
    fileName: faker.string.alpha({ length: { min: 10, max: 20 } }),
    mimeType: faker.string.alpha({ length: { min: 10, max: 20 } }),
    mediaType: faker.string.alpha({ length: { min: 10, max: 20 } }),
    size: faker.number.float({ min: undefined, max: undefined, fractionDigits: 2 }),
    storageKey: faker.string.alpha({ length: { min: 10, max: 20 } }),
  },
  ...overrideResponse,
})

export const getDeleteMediaResponseMock = (
  overrideResponse: Partial<DeleteMedia200> = {}
): DeleteMedia200 => ({ success: faker.datatype.boolean(), ...overrideResponse })

export const getServeMediaResponseMock = ():
  | ServeMedia200One
  | ServeMedia200Two
  | ServeMedia200Three => faker.helpers.arrayElement([{}, {}, {}])

export const getUploadMediaMockHandler = (
  overrideResponse?:
    | UploadMedia201
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0]
      ) => Promise<UploadMedia201> | UploadMedia201),
  options?: RequestHandlerOptions
) => {
  return http.post(
    '*/media',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getUploadMediaResponseMock()
        ),
        { status: 201, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getDeleteMediaMockHandler = (
  overrideResponse?:
    | DeleteMedia200
    | ((
        info: Parameters<Parameters<typeof http.delete>[1]>[0]
      ) => Promise<DeleteMedia200> | DeleteMedia200),
  options?: RequestHandlerOptions
) => {
  return http.delete(
    '*/media/:id',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getDeleteMediaResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}

export const getServeMediaMockHandler = (
  overrideResponse?:
    | ServeMedia200One
    | ServeMedia200Two
    | ServeMedia200Three
    | ((
        info: Parameters<Parameters<typeof http.get>[1]>[0]
      ) =>
        | Promise<ServeMedia200One | ServeMedia200Two | ServeMedia200Three>
        | ServeMedia200One
        | ServeMedia200Two
        | ServeMedia200Three),
  options?: RequestHandlerOptions
) => {
  return http.get(
    '*/api/media/serve',
    async (info) => {
      await delay(1000)

      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === 'function'
              ? await overrideResponse(info)
              : overrideResponse
            : getServeMediaResponseMock()
        ),
        { status: 200, headers: { 'Content-Type': 'application/json' } }
      )
    },
    options
  )
}
export const getMediaMock = () => [
  getUploadMediaMockHandler(),
  getDeleteMediaMockHandler(),
  getServeMediaMockHandler(),
]
